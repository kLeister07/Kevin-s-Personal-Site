if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MAWGating.re",["MAWGating.bs"],(function(a,b,c,d,e,f){c=(a=b("MAWGating.bs")).isArmadillo;f.isArmadillo=c;d=a.isEyebrowTextEnabled;f.isEyebrowTextEnabled=d;e=a.isGifEnabled;f.isGifEnabled=e;b=a.isGifSearchEnabled;f.isGifSearchEnabled=b;c=a.isStickerEnabled;f.isStickerEnabled=c;d=a.getArmadilloDbVersion;f.getArmadilloDbVersion=d;e=a.wellBeingFeaturesEnabled;f.wellBeingFeaturesEnabled=e;b=a.isEphemeralMessagesEnabled;f.isEphemeralMessagesEnabled=b;c=a.isDualSendWebOrCrossApp;f.isDualSendWebOrCrossApp=c;d=a.isOneToOneDualSendTextEnabled;f.isOneToOneDualSendTextEnabled=d;e=a.isOneToOneDualSendMediaEnabled;f.isOneToOneDualSendMediaEnabled=e;b=a.isForwardEnabled;f.isForwardEnabled=b;c=a.isCrossForwardEnabled;f.isCrossForwardEnabled=c;d=a.isVaultingEnabled;f.isVaultingEnabled=d;e=a.isSharedWorkerEnabled;f.isSharedWorkerEnabled=e;b=a.isReportingEnabled;f.isReportingEnabled=b;c=a.isAdaptiveTrickleModeEnabled;f.isAdaptiveTrickleModeEnabled=c;d=a.isFeatureLimitEnabled;f.isFeatureLimitEnabled=d;e=a.isReactionsEnabled;f.isReactionsEnabled=e;b=a.isCustomReactionsEnabled;f.isCustomReactionsEnabled=b;c=a.isICDCEnabled;f.isICDCEnabled=c;d=a.isICDCErrorEnabled;f.isICDCErrorEnabled=d;e=a.isClientTimeoutsEnabled;f.isClientTimeoutsEnabled=e;b=a.isOptedOutOfTimeouts;f.isOptedOutOfTimeouts=b;c=a.isUnsendGlobalEnabled;f.isUnsendGlobalEnabled=c;d=a.isUnsendLocallyEnabled;f.isUnsendLocallyEnabled=d;e=a.isOccamadillo;f.isOccamadillo=e;b=a.isEncryptionAtRestEnabled;f.isEncryptionAtRestEnabled=b;c=a.isDevserverDeviceEnabled;f.isDevserverDeviceEnabled=c;d=a.isBlockEnabled;f.isBlockEnabled=d;e=a.isRestrictEnabled;f.isRestrictEnabled=e;b=a.isReactionsCleanerEnabled;f.isReactionsCleanerEnabled=b;c=a.isRepliesEnabled;f.isRepliesEnabled=c;d=a.isPersistedDbEnabled;f.isPersistedDbEnabled=d;e=a.isSearchEnabled;f.isSearchEnabled=e;b=a.isContentSearchEnabled;f.isContentSearchEnabled=b;c=a.isSecurityAlertEnabled;f.isSecurityAlertEnabled=c;d=a.isThreadLevelCutoverEnabled;f.isThreadLevelCutoverEnabled=d;e=a.isXMAFeedPostShareEnabled;f.isXMAFeedPostShareEnabled=e;b=a.isLabyrinthOnWebEnabled;f.isLabyrinthOnWebEnabled=b;c=a.isMailboxUploadEnabled;f.isMailboxUploadEnabled=c;d=a.isShadowTestCleanupOnWebEnabled;f.isShadowTestCleanupOnWebEnabled=d;e=a.isAttachmentBackupEnabled;f.isAttachmentBackupEnabled=e;b=a.isGroupInvitesEnabled;f.isGroupInvitesEnabled=b;c=a.isArmadilloMessageSortedOrderChanged;f.isArmadilloMessageSortedOrderChanged=c;d=a.isHotLikeEnabled;f.isHotLikeEnabled=d;e=a.isShadowTestRestoreFlowOnWebEnabled;f.isShadowTestRestoreFlowOnWebEnabled=e;b=a.isPushNotificationEnabled;f.isPushNotificationEnabled=b;c=a.isPinCodeFirstEnabled;f.isPinCodeFirstEnabled=c;d=a.isPresenceEnabled;f.isPresenceEnabled=d;e=a.isMobileExternalIdFormatEnabled;f.isMobileExternalIdFormatEnabled=e;b=a.isAdminMsgOptEnabled;f.isAdminMsgOptEnabled=b;c=a.isWebLoadStateEnabled;f.isWebLoadStateEnabled=c;d=a.isInitSyncApiImprovementsEnabled;f.isInitSyncApiImprovementsEnabled=d;e=a.isMRInitSyncImprovementsEnabled;f.isMRInitSyncImprovementsEnabled=e}),null);
__d("LSPersistedDbGating",["MAWGating.re","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("MAWGating.re").isLabyrinthOnWebEnabled()&&c("gkx")("6452");b=!a;d=b;g.onlyEncryptedBackupsPersisted=a;g.allTablesPersisted=b;g.oneMqttConnectionAcrossTabs=d}),98);
__d("PolarisPostRemoveCommentsSelectors",["reselect"],(function(a,b,c,d,e,f,g){a=function(a){return a.postRemoveComments};b=d("reselect").createSelector(a,function(a){a=a.isVisible;return a});g.getPostRemoveCommentsIsVisible=b}),98);
__d("PolarisPreviewComments",["cx","fbt","PolarisBatchDOM","PolarisCommentActionTypes","PolarisCommentActions","PolarisConsumerBigNumber","PolarisIGCoreButton","PolarisIGCoreSpinner","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisNavigationActions","PolarisPostComment","PolarisPostVariants","PolarisUA","PolariscommentSelectors","PolarispostSelectors","browserHistory","joinClasses","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){var j=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$2=function(a){var b=c.props,e=b.analyticsContext,f=b.code,g=b.id,h=b.loadMore,i=b.loggedIn,j=b.mediaType,k=b.onLoggedOutIntentClick,l=b.ownerId;b=b.variant;var m=d("PolarisUA").isMobile();a.preventDefault();if(b===d("PolarisPostVariants").VARIANTS.feed||m){a=d("PolarisLinkBuilder").buildMediaCommentsLink(f,m);i?(d("browserHistory").browserHistory.push(a),d("PolarisInteractionsLogger").logInteractionAction({containerModule:e,eventName:"instagram_organic_comment_view_all",mediaAuthorId:l,mediaId:g,mediaType:j})):k("post_comment_view_all")}else h(g,f),d("PolarisInteractionsLogger").logInteractionAction({containerModule:e,eventName:"instagram_organic_comment_view_more",mediaAuthorId:l,mediaId:g,mediaType:j})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a,b,c){var e=this,f=a.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight,g=this.$1;if(!g)return;d("PolarisBatchDOM").measure(function(){var b=g.scrollTop;f?b=g.scrollHeight:c!=null?b=g.scrollHeight-c:e.props.id!==a.id&&(b=0);d("PolarisBatchDOM").mutate(function(){g.scrollTop=b})})};e.getSnapshotBeforeUpdate=function(a){var b=a.comments,c=this.props.comments;if(a.id===this.props.id&&c&&b&&c.count()>b.count()){a=this.$1;if(a)return a.scrollHeight-a.scrollTop}return null};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.captionAndTitle,g=b.captionIsEdited,h=b.className,i=b.commentsAreStacked,k=b.commentsDisabled,l=b.commentsHasNextPage,m=b.commentsTotalCount,n=b.handleDeleteCommentClick,o=b.id,p=b.loggedIn,q=b.mediaType,r=b.ownerId,s=b.postedAt,t=b.previewComments,u=b.showIGTVCaption,v=b.showRemoveCommentIcons,w=b.variant;b=k!==!0&&(l===!0||t!=null&&t.length<m);if((f==null||f==="")&&m===0&&!b)return null;l=t;return j.jsx("div",{className:c("joinClasses")("_acri"+(!d("PolarisUA").isMobile()&&w===d("PolarisPostVariants").VARIANTS.flexible&&!i?" _acrj":""),h),ref:function(b){return a.$1=b},children:j.jsxs("ul",{className:"_acrk",children:[f!=null&&f!==""&&j.jsx(c("PolarisPostComment"),{analyticsContext:e,commentOwnerId:r,isCaption:!0,isEdited:!!g,isRestrictedPending:!1,loggedIn:p,mediaType:q,postedAt:s,postId:o,postOwnerId:r,showIGTVCaption:u,showRemoveIcon:!1,text:f,variant:w},"captionAndTitle"),b&&this.renderLoadMoreCommentsLink(),k!==!0&&l&&l.map(function(a){return j.jsx(c("PolarisPostComment"),{analyticsContext:e,commentOwnerId:a.userId,id:a.id,isAuthorVerified:a.isAuthorVerified,isRestrictedPending:a.isRestrictedPending,likedByViewer:a.likedByViewer,loggedIn:p,mediaType:q,onDeleteCommentClick:n,postedAt:a.postedAt,postId:o,postOwnerId:r,showRemoveIcon:v,text:a.text,variant:w},a.id)})]})})};e.renderLoadMoreCommentsLink=function(){var a=this.props,b=a.comments,e=a.commentsIsFetching,f=a.commentsTotalCount;a=a.variant;var g=i._(/*FBT_CALL*/"Load more comments"/*FBT_CALL*/);b&&b.count()+d("PolarisCommentActionTypes").PAGE_SIZE>=f||a===d("PolarisPostVariants").VARIANTS.feed||d("PolarisUA").isMobile()?b=i._(/*FBT_CALL*/"View all {count} comments"/*FBT_CALL*/,[i._param("count",j.jsx(c("PolarisConsumerBigNumber"),{value:f}))]):b=g;return j.jsxs("li",{className:"_acrl",children:[j.jsx(c("PolarisIGCoreButton"),{borderless:!0,dangerouslySetClassName:{__className:"_acrm"},disabled:e,onClick:this.$2,children:b}),e&&j.jsx("div",{className:"_acrn",children:j.jsx(c("PolarisIGCoreSpinner"),{position:"static",size:"small"})})]})};return b}(j.PureComponent);function a(a,b){var c=d("PolariscommentSelectors").getPreviewCommentsForPostId(a,b.id);b=d("PolarispostSelectors").getNumCommentsForPostId(a,b.id);var e=a.navigation.pageIdentifier||"";return{analyticsContext:e,commentSaveIsInFlight:!1,commentsHasNextPage:!1,commentsIsFetching:!1,commentsTotalCount:b,previewComments:c,viewportWidth:a.displayProperties.viewportWidth}}e={onLoggedOutIntentClick:d("PolarisNavigationActions").openLoggedOutIntentDialog,loadMore:d("PolarisCommentActions").requestNextCommentPage};f=d("react-redux-wwwig").connect(a,e)(b);g["default"]=f}),98);
__d("PolarisPostComments",["PolarisDeleteCommentModal","PolarisPostRemoveCommentsSelectors","PolarisPostVariants","PolarisPreviewComments","PolarisThreadedComments","PolarisUA","Polarisnullthrows","PolarisuserSelectors","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){var h=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={commentToDeleteId:null,showDeleteCommentModal:!1},c.$1=function(a){c.setState({commentToDeleteId:a,showDeleteCommentModal:!0})},c.$2=function(){c.setState({commentToDeleteId:null,showDeleteCommentModal:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$3=function(){var a=this.props,b=a.caption,c=a.showIGTVCaption;a=a.title;return c?[a,b].filter(Boolean).join("\n\n"):b};e.$4=function(){return this.props.variant!==d("PolarisPostVariants").VARIANTS.feed&&!d("PolarisUA").isMobile()};e.render=function(){var a=this.props,b=a.analyticsContext,d=a.captionCreatedAt,e=a.captionIsEdited,f=a.className,g=a.code,i=a.commentingDisabledForViewer,j=a.commentsAreStacked,k=a.commentsDisabled,l=a.customIndentationPadding,m=a.customPaddingStyle,n=a.hasRankedComments,o=a.hideUserAvatar,p=a.id,q=a.mediaType,r=a.onLikeCountClick,s=a.onLikeModalClose,t=a.ownerId,u=a.permalinkedCommentId,v=a.permalinkedReplyId,w=a.postedAt,x=a.reducedAvatarMargin,y=a.showCommentOptionsInline,z=a.showIGTVCaption,A=a.showRemoveCommentIcons,B=a.variant;a=a.viewerId;a=a!=null;return h.jsxs(h.Fragment,{children:[this.$4()?h.jsx(c("PolarisThreadedComments"),{analyticsContext:b,captionAndTitle:this.$3(),captionCreatedAt:d,captionIsEdited:e,className:f,code:g,commentingDisabledForViewer:i,commentsDisabled:k,customIndentationPadding:l,customPaddingStyle:m,handleDeleteCommentClick:this.$1,hasRankedComments:n,hideUserAvatar:!!o,id:p,isDeletingComments:A,loggedIn:a,mediaType:q,onLikeCountClick:r,onLikeModalClose:s,ownerId:t,permalinkedCommentId:u,permalinkedReplyId:v,postedAt:w,reducedAvatarMargin:x,showCommentOptionsInline:y,showIGTVCaption:z}):h.jsx(c("PolarisPreviewComments"),{captionAndTitle:this.$3(),captionIsEdited:e,className:f,code:g,commentsAreStacked:j,commentsDisabled:k,handleDeleteCommentClick:this.$1,id:p,loggedIn:a,mediaType:q,ownerId:t,postedAt:w,showIGTVCaption:z,showRemoveCommentIcons:A,variant:B}),this.state.showDeleteCommentModal&&h.jsx(c("PolarisDeleteCommentModal"),{analyticsContext:b,commentId:c("Polarisnullthrows")(this.state.commentToDeleteId),onClose:this.$2,postId:p})]})};return b}(h.PureComponent);b.defaultProps={variant:d("PolarisPostVariants").VARIANTS.flexible};function a(a,b){return{showRemoveCommentIcons:d("PolarisPostRemoveCommentsSelectors").getPostRemoveCommentsIsVisible(a),viewerId:(b=d("PolarisuserSelectors").getViewer(a))==null?void 0:b.id}}e=d("react-redux-wwwig").connect(a)(b);g["default"]=e}),98);